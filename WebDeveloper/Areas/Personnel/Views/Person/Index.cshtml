@model IEnumerable<WebDeveloper.Model.Person>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<p>
    @CustomHelper.Message("successMessage","success","The record was created.")
    @CustomHelper.Message("editMessage", "info", "The record was Update.")
    @CustomHelper.Message("deleteMessage", "danger", "The record was Delete.")
</p>
<p>
    <a href="#"
       onClick="getModalContent('@Url.Action("Create", new { area="Personnel" })')" 
       data-toggle="modal"
       data-target="#modal-container"
       class="btn btn-success">
        <span class="glyphicon glyphicon-plus"></span> Create New
       </a>
</p>

<div id ="personContent" ></div>

@CustomHelper.GetModal("Person")
<script src="~/Scripts/Shared/modal.js" type="text/javascript" ></script>
@Scripts.Render("~/bundles/unobtrusive-ajax");


<script type="text/javascript">
    var rowsByPage = 15;
    $(function () {
        goToPage(1);
    })

    function goToPage(page) {
        var url = '@Url.Action("List",new { Controller="Person",area ="Personnel"})';
        var finalUrl = url + "?Page=" + page + "&size=" + rowsByPage;
        $.get(finalUrl, function (data) {
            $('#personContent').html(data);
        })
    }

</script>



